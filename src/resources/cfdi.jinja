<?xml version="1.0" encoding="UTF-8"?>
<cfdi:Comprobante xmlns:cfdi="http://www.sat.gob.mx/cfd/3"{% if data['comprobante']['serie'] %} serie="{{ data['comprobante']['serie'] }}"{% endif %}{% if data['comprobante']['folio'] %} folio="{{ data['comprobante']['folio'] }}"{% endif %} fecha="{{ data['comprobante']['fecha'] }}" sello="" formaDePago="{{ data['comprobante']['formaDePago'] }}" noCertificado="{{ data['comprobante']['noCertificado'] }}" certificado="{{ data['comprobante']['certificado'] }}"{% if data['comprobante']['condicionesDePago'] %} condicionesDePago="{{ data['comprobante']['condicionesDePago'] }}"{% endif %} subTotal="{{ data['comprobante']['subTotal'] }}"{% if data['comprobante']['descuento'] %} descuento="{{ data['comprobante']['descuento'] }}"{% endif %}{% if data['comprobante']['motivoDescuento'] %} motivoDescuento="{{ data['comprobante']['motivoDescuento'] }}"{% endif %}{% if data['comprobante']['TipoCambio'] %} TipoCambio="{{ data['comprobante']['TipoCambio'] }}"{% endif %}{% if data['comprobante']['Moneda'] %} Moneda="{{ data['comprobante']['Moneda'] }}"{% endif %} total="{{ data['comprobante']['total'] }}" tipoDeComprobante="{{ data['comprobante']['tipoDeComprobante'] }}" metodoDePago="{{ data['comprobante']['metodoDePago'] }}" LugarExpedicion="{{ data['comprobante']['LugarExpedicion'] }}"{% if data['comprobante']['NumCtaPago'] %} NumCtaPago="{{ data['comprobante']['NumCtaPago'] }}"{% endif %}{% if data['comprobante']['FolioFiscalOrig'] %} FolioFiscalOrig="{{ data['comprobante']['FolioFiscalOrig'] }}"{% endif %}{% if data['comprobante']['SerieFolioFiscalOrig'] %} SerieFolioFiscalOrig="{{ data['comprobante']['SerieFolioFiscalOrig'] }}"{% endif %}{% if data['comprobante']['FechaFolioFiscalOrig'] %} FechaFolioFiscalOrig="{{ data['comprobante']['FechaFolioFiscalOrig'] }}"{% endif %}{% if data['comprobante']['MontoFolioFiscalOrig'] %} MontoFolioFiscalOrig="{{ data['comprobante']['MontoFolioFiscalOrig'] }}"{% endif %} version="3.2"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.sat.gob.mx/cfd/3 http://www.sat.gob.mx/sitio_internet/cfd/3/cfdv32.xsd">
    <cfdi:emisor rfc="{{ data['emisor']['rfc'] }}"{% if data['emisor']['nombre'] %} nombre="{{ data['emisor']['nombre'] }}"{% endif %}>{% if data['emisor']['DomicilioFiscal'] %}<cfdi:DomicilioFiscal calle="{{ data['emisor']['DomicilioFiscal']['calle'] }}"{% if data['emisor']['DomicilioFiscal']['noExterior'] %} noExterior="{{ data['emisor']['DomicilioFiscal']['noExterior'] }}"{% endif %}{% if data['emisor']['DomicilioFiscal']['noInterior'] %} noInterior="{{ data['emisor']['DomicilioFiscal']['noInterior'] }}"{% endif %}{% if data['emisor']['DomicilioFiscal']['colonia'] %} colonia="{{ data['emisor']['DomicilioFiscal']['colonia'] }}"{% endif %}{% if data['emisor']['DomicilioFiscal']['localidad'] %} localidad="{{ data['emisor']['DomicilioFiscal']['localidad'] }}"{% endif %}{% if data['emisor']['DomicilioFiscal']['referencia'] %} referencia="{{ data['emisor']['DomicilioFiscal']['referencia'] }}"{% endif %} municipio="{{ data['emisor']['DomicilioFiscal']['municipio'] }}" estado="{{ data['emisor']['DomicilioFiscal']['estado'] }}" pais="{{ data['emisor']['DomicilioFiscal']['pais'] }}" codigoPostal="{{ data['emisor']['DomicilioFiscal']['codigoPostal'] }}"/>
{% endif %}{% if data['emisor']['ExpedidoEn'] %}<cfdi:ExpedidoEn calle="{{ data['emisor']['ExpedidoEn']['calle'] }}"{% if data['emisor']['ExpedidoEn']['noExterior'] %} noExterior="{{ data['emisor']['ExpedidoEn']['noExterior'] }}"{% endif %}{% if data['emisor']['ExpedidoEn']['noInterior'] %} noInterior="{{ data['emisor']['ExpedidoEn']['noInterior'] }}"{% endif %}{% if data['emisor']['ExpedidoEn']['colonia'] %} colonia="{{ data['emisor']['ExpedidoEn']['colonia'] }}"{% endif %}{% if data['emisor']['ExpedidoEn']['localidad'] %} localidad="{{ data['emisor']['ExpedidoEn']['localidad'] }}"{% endif %}{% if data['emisor']['ExpedidoEn']['referencia'] %} referencia="{{ data['emisor']['ExpedidoEn']['referencia'] }}"{% endif %} municipio="{{ data['emisor']['ExpedidoEn']['municipio'] }}" estado="{{ data['emisor']['ExpedidoEn']['estado'] }}" pais="{{ data['emisor']['ExpedidoEn']['pais'] }}" codigoPostal="{{ data['emisor']['ExpedidoEn']['codigoPostal'] }}"/>
{% endif %}<cfdi:RegimenFiscal Regimen="{{ data['emisor']['RegimenFiscal'] }}"/>
</cfdi:emisor>
<cfdi:receptor rfc="{{ data['receptor']['rfc'] }}"{% if data['receptor']['nombre'] %} nombre="{{ data['receptor']['nombre'] }}"{% endif %}>{% if data['receptor']['Domicilio'] %}<cfdi:Domicilio calle="{{ data['receptor']['Domicilio']['calle'] }}"{% if data['receptor']['Domicilio']['noExterior'] %} noExterior="{{ data['receptor']['Domicilio']['noExterior'] }}"{% endif %}{% if data['receptor']['Domicilio']['noInterior'] %} noInterior="{{ data['receptor']['Domicilio']['noInterior'] }}"{% endif %}{% if data['receptor']['Domicilio']['colonia'] %} colonia="{{ data['receptor']['Domicilio']['colonia'] }}"{% endif %}{% if data['receptor']['Domicilio']['localidad'] %} localidad="{{ data['receptor']['Domicilio']['localidad'] }}"{% endif %}{% if data['receptor']['Domicilio']['referencia'] %} referencia="{{ data['receptor']['Domicilio']['referencia'] }}"{% endif %} municipio="{{ data['receptor']['Domicilio']['municipio'] }}" estado="{{ data['receptor']['Domicilio']['estado'] }}" pais="{{ data['receptor']['Domicilio']['pais'] }}" codigoPostal="{{ data['receptor']['Domicilio']['codigoPostal'] }}"/>
{% endif %}</cfdi:receptor>
<cfdi:Conceptos>{% for concepto in data['Conceptos'] %}<cfdi:Concepto cantidad="{{ concepto['cantidad'] }}" unidad="{{ concepto['unidad'] }}"{% if concepto['noIdentificacion'] %} noIdentificacion="{{ concepto['noIdentificacion'] }}"{% endif %}{% if concepto['descripcion'] %} descripcion="{{ concepto['descripcion'] }}"{% endif %} valorUnitario="{{ concepto['valorUnitario'] }}" importe="{{ concepto['importe'] }}">{% if concepto['InformacionAduanera'] %}<cfdi:InformacionAduanera numero="{{ concepto['InformacionAduanera']['numero'] }}" fecha="{{ concepto['InformacionAduanera']['fecha'] }}"{% if concepto['InformacionAduanera']['aduana'] %} aduana="{{ concepto['InformacionAduanera']['aduana'] }}"{% endif %}/>{% endif %}{% if concepto['CuentaPredial'] %}<cfdi:CuentaPredial numero="{{ concepto['CuentaPredial']['numero'] }}"/>
{% endif %}{% if concepto['Parte'] %}{% for parte in concepto['Parte'] %}<cfdi:Parte cantidad="{{ parte['cantidad'] }}"{% if parte['unidad'] %} unidad="{{ parte['unidad'] }}"{% endif %}{% if parte['noIdentificacion'] %} noIdentificacion="{{ parte['noIdentificacion'] }}"{% endif %} descripcion="{{ parte['descripcion'] }}"{% if parte['valorUnitario'] %} valorUnitario="{{ parte['valorUnitario'] }}"{% endif %}{% if parte['importe'] %} importe="{{ parte['importe'] }}"{% endif %}>{% if parte['InformacionAduanera'] %}<cfdi:InformacionAduanera numero="{{ parte['InformacionAduanera']['numero'] }}" fecha="{{ parte['InformacionAduanera']['fecha'] }}"{% if parte['InformacionAduanera']['aduana'] %} aduana="{{ parte['InformacionAduanera']['aduana'] }}"{% endif %}/>{% endif %}</cfdi:Parte>{% endfor %}{% endif %}</cfdi:Concepto>{% endfor %}</cfdi:Conceptos><cfdi:impuestos{% if data['impuestos']['totalimpuestosRetenidos'] %} totalimpuestosRetenidos="{{ data['impuestos']['totalimpuestosRetenidos'] }}"{% endif %}{% if data['impuestos']['totalimpuestosTrasladados'] %} totalimpuestosTrasladados="{{ data['impuestos']['totalimpuestosTrasladados'] }}"{% endif %}>{%if data['impuestos']['Retenciones'] %}<cfdi:Retenciones>{%for retencion in data['impuestos']['Retenciones'] %}<cfdi:Retencion impuesto="{{ retencion['impuesto'] }}" importe="{{ retencion['importe'] }}"/>
{% endfor %}</cfdi:Retenciones>{% endif %}{%if data['impuestos']['Traslados'] %}<cfdi:Traslados>{%for traslado in data['impuestos']['Traslados'] %}<cfdi:Traslado impuesto="{{ traslado['impuesto'] }}" tasa="{{ traslado['tasa'] }}" importe="{{ traslado['importe'] }}"/>
{% endfor %}</cfdi:Traslados>{% endif %}</cfdi:impuestos>
</cfdi:Comprobante>